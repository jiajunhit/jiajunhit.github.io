# 一份迟来的代码重构总结

转眼间代码重构“完成”的时间已经一年多了，整个工作从2020年开始，在2021年初随着新版本的交付就算完成了。但事实上后面的工作仍然非常多。

从最初规划，到后续进行过程中，再到交付后的后续处理，都有太多内容需要反思。

## 前期规划，最重要的事情

### 少数人的讨论

其实前期规划用了很多时间讨论，还专门邀请了 隔壁部门的代码专家帮忙讨论，这个帮助确实很大，有很多的大的原则和架构都是在相关讨论中确定的。

虽然在后续的代码开发中，细节的结构随着开发过程中在不断调整，甚至部分结构完全推翻了之前的讨论框架，但一切都是基于此开始的。

### 多数人的讨论

后续的多人讨论其实犯了一个非常大的错误：太过民主，没能坚持原则。参与讨论的同学其实基本都没有真正的软件开发经验，基本的知识层面停留在大学C语言的水平，然后参与过一些算法代码的开发。这个时候大家提出的多数方案和想法其实都不具备建设性，甚至想要推翻之前“少数人讨论”的某些方案。最终一些基本的大原则也没有非常明确地坚持，导致大家后续在按照自己的想法开发。

而少数人讨论的主要是框架，这里讨论的更多的是细节。对于框架，前期只有基本想法，然后少数人一起讨论，最终有了更好的方案。但对于细节，大家一起讨论就完全是不一样的状态，相关的讨论还是比较混乱，而且没有能够很好地记录下来。

## 代码开发

开发的过程中就已经开始遇到了一系列的问题。其中的一个
